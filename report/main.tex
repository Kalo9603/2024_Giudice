%
% The first command in your LaTeX source must be the \documentclass command.
\documentclass[sigchi]{acmart}
\usepackage{array}
\usepackage{graphicx}
\usepackage{multirow}

%
% defining the \BibTeX command - from Oren Patashnik's original BibTeX documentation.
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08emT\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
    
% Rights management information. 
% This information is sent to you when you complete the rights form.
% These commands have SAMPLE values in them; it is your responsibility as an author to replace
% the commands and values with those provided to you when you complete the rights form.
%
% These commands are for a PROCEEDINGS abstract or paper.
\copyrightyear{2025}
\acmYear{2025}
\setcopyright{acmlicensed}
\acmConference[SNA '25]{Social Network Analysis '24}{2024/25}{University of Pisa, Italy}
\acmBooktitle{Analisi dell'affinità musicale degli artisti di Last.fm}
\acmPrice{0.00}
%\acmDOI{10.1145/1122445.1122456}
%\acmISBN{978-1-4503-9999-9/18/06}

% end of the preamble, start of the body of the document source.
\begin{document}

%
% The "title" command has an optional parameter, allowing the author to define a "short title" to be used in page headers.
\title{Analisi dell'affinità musicale degli artisti di Last.fm}

%
% The "author" command and its associated commands are used to define the authors and their affiliations.
% Of note is the shared affiliation of the first two authors, and the "authornote" and "authornotemark" commands
% used to denote shared contribution to the research.
\author{Calogero Giudice}
\email{c.giudice@studenti.unipi.it}
\affiliation{%
  \institution{Student ID: 530155}
}

\renewcommand{\shortauthors}{Calogero Giudice}


% The abstract is a short summary of the work to be presented in the article.
\begin{abstract}
Questo progetto analizza una rete di artisti musicali del social network {\itshape \href{https://www.last.fm/home}{last.fm}} in base a dei coefficienti di similarità (Sample e Jaccard Ratios) che potrebbero rappresentare delle affinità a livello stilistico o di pubblico. Sono state esaminate sia le {\bfseries caratteristiche strutturali} della rete, procedendo a svolgere una previsione, in base ai Ratios menzionati in precedenza e al coefficiente di popolarità, su possibili aumenti o cali di popolarità futuri. \\ \\ Questi risultati possono rappresentare un {\bfseries modello} che potrebbe riflettersi nello scenario musicale odierno, fornendo nuovi studi e strumenti che possono essere utili a prevedere eventuali nuovi scenari. Infatti, possono esserci artisti emergenti che potrebbero godere di maggiore popolarità futura se ben collegati, con artisti di popolarità alta e collegati con ratio alti; allo stesso tempo, si potrebbero notare alcuni artisti ritenuti popolari che potrebbero avere un trend opposto e quindi in declino.\footnote{
{\bf Project Repositories}\\
\noindent Data Collection: \url{https://github.com/Kalo9603/2024_Giudice/tree/main/data_collection}\\
\noindent Network Analysis: \url{https://github.com/Kalo9603/2024_Giudice/tree/main/network_analysis}\\
\noindent Open Problem: \url{https://github.com/Kalo9603/2024_Giudice/tree/main/open_problem}\\
\noindent Report: \url{https://github.com/Kalo9603/2024_Giudice/tree/main/report}}
\end{abstract}


%
% Keywords. The author(s) should pick words that accurately describe the work being
% presented. Separate the keywords with commas.
\keywords{Social Network Analysis, musica, {\itshape Last.fm}, affinità, similarità, popolarità}


%
% This command processes the author and affiliation and title information and builds
% the first part of the formatted document.
\maketitle

\section{Introduzione}
Nell'epoca dell'affermazione dell'industria musicale digitale, piattaforme come {\itshape \href{https://www.last.fm/home}{last.fm}} offrono tanti dati sugli artisti musicali, sulle abitudini di ascolto degli utenti e sulle relazioni tra i singoli profili musicali (gli utenti, gli artisti, gli album, etc.). Gli artisti presenti nella piattaforma sono stati analizzati sotto una prospettiva di rete sociale: si possono ipotizzare così degli scenari, dei fenomeni interessanti: la similarità tra artisti, la popolarità degli stessi, l'affermazione di artisti emergenti o l'effetto contrario. \\ \\ L'analisi parte dalla costruzione di una rete basata su coefficienti di similarità; di questi ne sono stati individuati due:

\begin{itemize}
\item Il {\itshape Sample Ratio}, ovvero l’intensità del legame tra due artisti in base ai simili condivisi.
\item Lo {\itshape Jaccard Ratio}, ovvero l’affinità relativa all’insieme totale di simili.
\end{itemize}
Matematicamente, è molto più probabile che lo {\itshape Jaccard} sia inferiore del rispettivo {\itshape Sample}, poiché il denominatore del primo è sempre maggiore del secondo (a meno che tali denominatori non coincidono). \\ \\ In parallelo si è stimata la {\bfseries popolarità} degli artisti presenti nel dataset: per far ciò ci si è basati sullo {\bfseries Z-Index}, che mette in relazione il numero di ascoltatori e quello di ascolti. Ciò ha permesso di classificare gli artisti in tre classi: {\bfseries \itshape mainstream}, {\bfseries \itshape medio} ed {\bfseries \itshape emergente}; a questi ne sono stati affiancati altri tre: {\bfseries \itshape possibile mainstream}, {\bfseries \itshape possibile medio} e {\bfseries \itshape ritorno emergente} in base al trend di (de)crescita calcolato. \\ \\ L'obiettivo principale della seconda parte progetto è quello di identificare le caratteristiche strutturali degli artisti mainstream e di quelli emergenti ed, eventualmente, di prevedere un cambio di status in base a determinate metriche.


\section{Data Collection}

La raccolta dei dati da analizzare si è concentrata su tre fasi specifiche:
\begin{enumerate}
\item La generazione di un elenco di artisti in base agli artisti simili;
\item La creazione di una lista di archi che collegano due artisti se entrambi i coefficienti di similarità superano la soglia del $50\%$. Il {\itshape Sample Ratio} è calcolato rispetto al numero di simili condivisi, mentre lo {\itshape Jaccard Ratio} rispetto all'insieme totale dei simili;
\item Il successivo accostamento del numero di ascolti, di ascoltatori e il calcolo delle popolarità degli artisti.
\end{enumerate}
Gli elenchi degli artisti e degli artisti simili sono stati ottenuti per mezzo dell'API di {\itshape last.fm} e, tramite programmazione ad oggetti, sono state generate le altre liste. Nel complesso vi sono quattro file:

\begin{itemize}
\item {\itshape artists.csv}, una lista di 28\,870 artisti;
\item {\itshape links.csv}, un elenco di 98\,890 archi che collegano 11\,745 artisti (il 40.68\% del totale). A causa delle lunghe tempistiche è stato elaborato il dataset sul 64.26\% dei possibili archi totali (sono stati esaminati più di 267 milioni di possibili archi su oltre 416 milioni totali: $\frac{28\,870 \cdot 28\,869}{2} = 416\,724\,015$);
\item {\itshape popularity.csv}: la medesima lista di {\itshape artists.csv} con inclusi il numero di ascoltatori, quello di ascolti, il coefficiente di popolarità e il suo logaritmo;
\item {\itshape popularity\_z.csv}: la medesima lista di {\itshape popularity.csv} a cui si accoda lo Z-Index.
\end{itemize}

In particolare, i coefficienti di correlazione citati sono calcolati come segue.

\renewcommand{\arraystretch}{1.8}  % Aumenta l'altezza delle righe

\begin{table}[H]
\centering
\begin{tabular}{|c|>{\centering\arraybackslash}p{4cm}|}
\hline
\textbf{Indice} & \textbf{Formula} \\
\hline
Sample Ratio &
$SR(a, b) = \frac{|S_a \cap S_b|}{k}$ \\
\hline
Jaccard Ratio &
$JR(a, b) = \frac{|S_a \cap S_b|}{|S_a \cup S_b|}$ \\
\hline
Popolarità &
$pop_i = \frac{ascolti_i}{ascoltatori_i}$ \\
\hline
Popolarità logaritmica &
$pop_{\log,i} = \log(pop_i + 1)$ \\
\hline
Media &
$\mu = \frac{1}{N} \sum_{i=1}^{N} pop_{\log,i}$ \\
\hline
Deviazione standard &
$\sigma = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (pop_{\log,i} - \mu)^2}$ \\
\hline
Z-Index &
$Z_i = \frac{pop_{\log,i} - \mu}{\sigma}$ \\
\hline
\end{tabular}\\[15pt]
\caption{Formule utilizzate per la classificazione e l'analisi strutturale}
\end{table}


\subsection{Dati selezionati}

Al fine di avere un dataset iniziale di artisti si è pensato, partendo da quattro artisti provenienti da quattro generi musicali diversi (\href{https://www.last.fm/music/Annalisa}{Annalisa} per il pop italiano; \href{https://www.last.fm/music/Giorgio+Vanni}{Giorgio Vanni} per le sigle, \href{https://www.last.fm/music/Katy+Perry}{Katy Perry} per la quota internazionale e \href{https://www.last.fm/music/Ado}{Ado} per il mercato giapponese). \\ \\ Quindi, partendo da essi, viene creata la lista di artisti simili a cominciare da quello in input: se non è presente, l'artista trovato viene aggiunta in lista. La medesima operazione viene svolta, alla prima iterazione, sui primi quattro artisti; poi, dalla seconda, si considerano anche tutti quelli aggiunti in coda. In questo modo è stato ottenuto un dataset di 28\,870 artisti. Relativamente all'ordine di inserimento nel dataset, a ciascun artista è stato assegnato un ID autoincrementale. \\ \\ Al termine si è passati, basandosi sull'elenco degli artisti, alla generazione del dataset dei {\itshape links} del grafo. Per far ciò per ciascun artista della lista, sfruttando le proprietà di un grafo non orientato:

\begin{itemize}
\item Si considera l'artista con ID immediatamente successivo;
\item Per la coppia in esame si prendono i rispettivi insiemi di artisti simili e si calcolano i ratio, le cui formule sono specificate nel formulario precedente;
\item Se entrambi il Sample e lo Jaccard Ratio raggiungono la soglia del 50\%, l'arco viene registrato nel dataset;
\item Si prosegue il calcolo con l'artista successivo con il medesimo algoritmo fino a raggiungere la fine della lista degli artisti.
\end{itemize}
In questo modo, ad esempio, il primo nodo (Annalisa) farà 28\,869 iterazioni, il secondo (Giorgio Vanni) 28\,868, e così via. Quindi gli ultimi nodi faranno molte meno iterazioni rispetto ai primi perché le altre possibili coppie vengono esaminate dai nodi precedenti. \\ \\ Per migliorare ulteriormente la velocità del processo è stato adottato il {\itshape multiprocessing}, in modo che più processi lavorino in parallelo sullo stesso set di artisti. Dati i tempi relativamente lunghi del processo, l'analisi del dataset è iniziato non appena il numero di artisti all'interno dei dataset dei {\itshape links} ha raggiunto la soglia richiesta. Al termine sono stati collegati 11\,745 artisti con 98\,890 archi.


\section{Network Characterization}

Si esamina qui di seguito il grafo ottenuto dalla fase di Data Collection. \\ \\ Come anticipato in precedenza, partendo da 28\,870 artisti è stato ottenuto un grafo, analizzando il 64,26\% dei possibili archi, formato da 11\,745 artisti a 98\,890 archi. \\ \\ La densità quindi è molto bassa, ovvero di $ 1.433 \times 10^{-3}$; questo è dovuto principalmente al fatto di aver adottato una soglia minima di Jaccard Ratio più alta. Infatti, matematicamente, la probabilità che lo Jaccard Ratio di un arco abbia valore minore del rispettivo Sample è nettamente maggiore, in quanto il denominatore del rapporto (vedasi la tabella nel paragrafo precedente) risulta maggiore di un valore fisso come nel Sample. \\ \\ Riassumendo, le prime generalità del grafo sono le seguenti:

\begin{table}[H]
\centering
\begin{tabular}{|c|>{\raggedright\arraybackslash}p{4cm}|}
\hline
\textbf{Artisti totali} &
$ 28\,870 $ \\
\hline
\textbf{Artisti nel grafo} &
$ 11\,745 $ (40,68\%)  \\
\hline
\textbf{Archi} &
$ 98\,890 $ \\
\hline
\textbf{Densità} &
$ 1.433 \times 10^{-3} $ \\
\hline
\end{tabular}\\[15pt]
\caption{Prime generalità del grafo}
\end{table}

\subsection{Distribuzione di grado}

Il grado medio del grafo è di $ 8.42 $. \\ Per calcolarlo sono stati utilizzati, per completezza, due metodi:

\begin{itemize}
\item Dividendo il numero di righe del dataset per il numero di artisti connessi;
\item Dividendo la somma dei gradi dei singoli artisti per il numero degli stessi.
\end{itemize}
Nota che l'errore tra i due metodi è dell'ordine di $ 10^{-4} $. Dal grafico si evince la forte asimmetria del grado medio degli artisti: ve ne sono molti con grado basso e meno con grado più alto.

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_2/grDist.png}
\caption{Distribuzione del grado degli artisti}
\label{fig:grDist}
\end{figure}

\noindent Questa asimmetria dei gradi del grafo si mostra maggiormente dalle distribuzioni CDF e CCDF: la probabilità di trovare un artista con grado elevato decresce.

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_2/plotDist.png}
\caption{Distribuzione del grado degli artisti - CDF e CCDF}
\label{fig:plotDist}
\end{figure}

\noindent Dato che si tratta di un grafo pesato su due livelli, è interessante mostrare come si comportano i rispettivi pesi con i medesimi grafici. Per cui si illustrano i medesimi grafici ma pesati: qui è evidente come lo Jaccard Ratio risulta più traslato indietro rispetto al Sample corrispondente. dal grafico corrispondente CDF e CCDF si nota come il range dei gradi pesati Jaccard sia molto più variabile rispetto al Sample. Risulta altresì interessante la continua sovrapposizione di entrambi i gradi nel modello CCDF:

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_2/wPlotDist.png}
\caption{Distribuzione del grado pesato degli artisti - CDF e CCDF}
\label{fig:wPlotDist}
\end{figure}

\subsection{Confronto con il grafo ER}

Il grafo è stato confrontato con un corrispettivo Erdős-Rényi (ER) con lo stesso numero di archi e la stessa densità. Come da definizione, la distribuzione è simil-parabolica e i valori, data la densità relativamente bassa, poco appaiati.

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_2/ERGrDist.png}
\caption{Grafo ER corrispondente}
\label{fig:ERGrDist}
\end{figure}


\subsection{Confronto con il grafo BA}

In maniera speculare è stato creato anche un corrispettivo Barabási-Albert (BA), formato da un unico componente, con lo stesso numero di archi e come parametro $m$, si è scelto il valore di default ($m=3$); la sua densità è minore del grafo principale e ha più di un terzo degli archi. Il regime è {\itshape Supercritical}.

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_2/BAGrDist.png}
\caption{Grafo BA corrispondente}
\label{fig:BAGrDist}
\end{figure}

\noindent Dunque sono state messe a confronto le tre distribuzioni: per grado $n\approx10$ tutti e tre tendono a coincidere. Le generalità dei tre grafi sono le seguenti:

\begin{table}[H]
\centering
\renewcommand{\arraystretch}{1.3}
\resizebox{0.45\textwidth}{!}{
\begin{tabular}{|l|c|c|c|}
\hline
& \textbf{Originale} & \textbf{ER} & \textbf{BA} \\
\hline
Nodi & \multicolumn{3}{|c|}{11\,745}  \\
\hline
Archi & 98\,890 & 98\,479 & 35\,226 \\
\hline
Densità & $1.433 \times 10^{-3}$ & $1.427 \times 10^{-3}$ & $5.107 \times 10^{-4}$ \\
\hline
Clustering medio & 0.516 & $1.46 \times 10^{-3}$ & $5.163 \times 10^{-3}$ \\
\hline
Grado medio & 8.42 & 16.77 & 6 \\
\hline
Regime & \multicolumn{2}{|c|}{{\itshape Connected}} & {\itshape Supercritical} \\
\hline
\end{tabular}
}
\caption{Confronto tra le metriche del grafo e dei modelli ER e BA}
\label{tab:comparison}
\end{table}

\noindent La tabella sopra è accompagnata dal grafico sovrapposto seguente che mostra come la distribuzione del grafo si avvicini a quello BA:

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_2/grComparison.png}
\caption{Confronto tra le tre distribuzioni}
\label{fig:grComparison}
\end{figure}

\noindent Si può constatare che il grafo, per quanto possa somigliare a un grafo BA, non si può prendere perfettamente a modello, complici il numero di archi e la densità nettamente minori del BA rispetto all'originale. Invece a occhio, se si sovrapponesse la medesima distribuzione pesata, si può notare che essa risulti molto più simile al BA rispetto al corrispettivo {\itshape inweighted}. Invece l'ER, sebbene alcuni valori di riferimento sono abbastanza vicini, non si avvicina minimamente alla distribuzione in analisi.

\subsection{Distribuzione dei Ratio}

Stabilito il criterio per la creazione degli archi si è pensato di svolgere una breve analisi anche sulla distribuzione normale dei ratio del dataset. Mettendo in relazione il ratio con la rispettiva frequenza, si possono mettere a confronto le gaussiane. Tenendo conto che si sta visualizzando nell'intervallo $[50,100]$, la curva del Sample Ratio si mostra più "alta" e più "centrata", mentre quella dello Jaccard più bassa, omogenea, ma più dislocata a sinistra. Questo anche perché, appunto, lo Jaccard medio ($57.39\%$) risulta nettamente inferiore del corrispettivo Sample medio ($72.69\%$).

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_3/rtDist.png}
\caption{Distribuzione dei Sample e Jaccard Ratio}
\label{fig:rtDist}
\end{figure}

\subsection{Componenti connesse}

A causa delle soglie stabilite è stato previsto che il grafo in analisi sia molto frammentato: con l'analisi svolta sono state individuate $800$ componenti connesse. Il componente maggiormente connesso è formato da ben $920$ nodi: esso è formato da musicisti britannici o, più in generale, di molti artisti degli anni Settanta e Ottanta. Il sottografo menzionato, sia con gli archi Sample Ratio che con quelli Jaccard Ratio, è il seguente:

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_4/lrgstCmpnt.png}
\caption{Sottocomponente maggiore}
\label{fig:lrgstCmpnt}
\end{figure}

\subsection{Path Analysis}

Il numero dei sottografi è molto alto, per cui si è pensato di studiare come ne sono distribuiti i diametri. Dalla figura sotto si evince che più della metà dei sottografi sono formati da al più due nodi connessi da un singolo arco e, di conseguenza, ci sono pochi, pochissimi sottografi di diametro elevato. Il diametro medio è poco più che $2$: quindi, in media, i sottografi sono formati maggiormente da $3$-$4$ nodi:

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_5/dmtDist.png}
\caption{Distribuzione dei diametri dei subgraphs}
\label{fig:dmtDist}
\end{figure}

\subsection{Clustering e Densità}

Il clustering medio è di $0.51646$. In media, quindi, più vi sono poco più della metà di vicini collegati tra di loro, per ciascun nodo. Questo valore suggerisce che nella rete ci sono tante triadi o, comunque, gruppi piccoli di artisti; per cui gli artisti simili tendono a connettersi tra di loro in maniera abbastanza moderata. \\ \\ Parallelamente a ciò, come è stato specificato in tabella, si è esaminato come sono distribuite le densità dei sottografi. In maniera speculare al grafico precedente, tutti i sottografi con diametro $1$ hanno densità massima. Al contrario, maggiore è il diametro del sottografo, minore è la probabilità di avere una densità alta: per questi motivi la densità media per sottografo è decisamente più alta rispetto a quella globale ($0.7713$ per sottografi, $1.433 \times 10^{-3}$ globale)

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_6/densDist.png}
\caption{Distribuzione delle densità dei subgraphs}
\label{fig:densDist}
\end{figure}


\subsection{Centralities}

Sono state esaminate sia la {\itshape Closeness} che la {\itshape Betweenness} Centrality. Su questi parametri salta nell'occhio che i valori massimi sono entrambi molto bassi, il che suggerisce una certa lontananza (in termini di Closeness) o di dominanza (per la Betweenness). Queste sono conseguenze nell'aver stabilito una soglia minima di Ratio relativamente centrale: infatti, la probabilità che due artisti siano legati da un ratio basso è ben maggiore. \\ \\ I valori massimi di {\bfseries Closeness} Centrality oscillano tra $1.347 \times 10^-2$ e $1.429 \times 10^-2$: ciò suggerisce che, sebbene la soglia è relativamente bassa risulta coerente in quanto la rete è poco densa. La top $20$ degli artisti per Closeness è dominata da artisti provenienti dal mondo country e country pop; inoltre può anche suggerire che all'interno del dataset gli artisti country sono collegati in maniera migliore rispetto agli altri generi musicali. Si mostra un grafico che mostra i $20$ artisti con maggiore Closeness:

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_7/top20Clness.png}
\caption{I primi 20 artisti per Closeness Centrality}
\label{fig:top20Clness}
\end{figure}

\noindent I primi $20$ valori di {\bfseries Betweenness}, invece, si trovano in un range tra $8.6 \times 10^-4$ e $2.95 \times 10^-3$: valori così bassi implicano una non dipendenza di artisti per mantenere la rete connessa, sia perché è formata da molte componenti connesse, sia perché il numero di archi è esiguo. Può anche suggerire una struttura abbastanza distribuita e quindi vi sono molti percorsi alternativi. Si nota che gli artisti con maggiore Betweenneess sono meno mainstream e più eterogenei. Vi sono, infatti, artisti rock degli anni Ottanta, Classic Rock e artisti giapponesi, tra i quali di Alternative Rock/Metal; essi non sono al centro del grafo, ma fungono da ponti tra comunità diverse.

\begin{figure}[H]
\centering
\includegraphics[width=0.45
\textwidth]{../network_analysis/plots/2_7/top20Btwnss.png}
\caption{I primi 20 artisti per Betweenness Centrality}
\label{fig:top20Btwnss}
\end{figure}

\section{Task: Open Question}


\subsection{Generalità e definizione dei parametri}


\subsection{Definizione delle classi}


\subsection{Calcolo delle classi intermedie}


\subsection{Previsione del trend}


\section{Discussion}


% The next two lines define the bibliography style to be used, and the bibliography file.
\bibliographystyle{ACM-Reference-Format}
\bibliography{biblio}

\end{document}

